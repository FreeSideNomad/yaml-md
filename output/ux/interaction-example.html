<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>YAML Document â€¢ /Users/igor/code/yaml-md/samples/ux/interaction-example.yaml</title>
    <link rel="stylesheet" href="https://unpkg.com/@primer/css/dist/primer.css">
    <script src="https://unpkg.com/@primer/layout@1.0.4/dist/index.umd.js" defer></script>
    <style>
      body { background: var(--bgColor-default, #fff); color: var(--fgColor-default, #24292f); font-size: 17px; line-height: 1.6; }
      .hidden { display: none !important; }
      .Layout { min-height: 100vh; }
      #app > aside { display: none; }
      #app > main { width: 100%; }
      a, a:visited { color: #0969da !important; }
      .tabbed-tables { margin-top: 1rem; }
      .TabNav { border-bottom: 1px solid var(--borderColor-default, #d0d7de); }
      .TabNav button { background: none; border: none; padding: 0.5rem 1rem; cursor: pointer; }
      .TabNav button[aria-selected="true"] { border-bottom: 2px solid var(--borderColor-accent-emphasis, #0969da); font-weight: 600; }
      .TabPanel.hidden { display: none !important; }
      .type-attributes { display: grid; grid-template-columns: minmax(0, 200px) 1fr; gap: 0.5rem 1rem; margin: 1rem 0; }
      .type-attributes dt { font-weight: 600; }
      .type-attributes dd { margin: 0; }
      .home-index { display: grid; gap: 0.75rem; margin-top: 1rem; }
      .home-index a { text-decoration: none; font-weight: 600; color: var(--fgColor-accent, #0969da); }
      .ActionList-content.ActionList-item--active { background-color: var(--bgColor-muted, #eaeef2); border-radius: 6px; }
      .Table th, .Table td { white-space: normal; word-break: break-word; padding: 0.5rem; }
      .table-wrapper { overflow-x: auto; margin-top: 0.5rem; }
      .table-wrapper .Table { min-width: 640px; }
    </style>
  </head>
  <body>
    <div id="app" class="Layout Layout--flowRow-until-lg">
      <aside class="Layout-sidebar p-3 border-right">
        <h1 class="h3 mb-3">Schema Types</h1>
        <ul class="ActionList" id="nav-list">
          <li class="ActionList-item">
            <a class="ActionList-content" data-target="" href="#">Home</a>
          </li>
          <li class="ActionList-item">
            <a class="ActionList-content" data-target="wf_add_to_cart" href="#wf_add_to_cart">Workflow: Add Product to Cart</a>
          </li>
          <li class="ActionList-item">
            <a class="ActionList-content" data-target="wf_user_activation" href="#wf_user_activation">Workflow: User Account Activation</a>
          </li>
          <li class="ActionList-item">
            <a class="ActionList-content" data-target="wf_checkout" href="#wf_checkout">Workflow: Checkout Process</a>
          </li>
        </ul>
      </aside>
      <main class="Layout-main p-4" id="content">
        <section id="home" class="type-view" data-breadcrumb='[{"label":"Home","href":"#"}]'>
          <h2>Top Level Types</h2>
          <div class="home-index">
            <a href="#wf_add_to_cart">Workflow: Add Product to Cart</a>
            <a href="#wf_user_activation">Workflow: User Account Activation</a>
            <a href="#wf_checkout">Workflow: Checkout Process</a>
          </div>
        </section>
        <section id="wf_add_to_cart" class="type-view hidden" data-breadcrumb='[{"label": "Home", "href": "#"}, {"label": "Workflow: Add Product to Cart", "href": "#wf_add_to_cart"}]'>
          <header><h2>Workflow: Add Product to Cart</h2></header>
          <dl class="type-attributes">
            <dt>Workflow Id</dt>
            <dd></dd>
            <dt>Name</dt>
            <dd>Add Product to Cart</dd>
            <dt>Type</dt>
            <dd>flexible</dd>
            <dt>Application Service</dt>
            <dd></dd>
            <dt>Step Number</dt>
            <dd></dd>
            <dt>Label</dt>
            <dd></dd>
            <dt>Page Ref</dt>
            <dd>page_product_detail</dd>
            <dt>Validates</dt>
            <dd></dd>
            <dt>Timing</dt>
            <dd></dd>
            <dt>Can Skip</dt>
            <dd></dd>
            <dt>Next Enabled When</dt>
            <dd></dd>
            <dt>On Complete</dt>
            <dd></dd>
            <dt>Update Aggregate</dt>
            <dd></dd>
            <dt>Publish Event</dt>
            <dd></dd>
            <dt>Navigate To</dt>
            <dd></dd>
            <dt>Step Number</dt>
            <dd></dd>
            <dt>Label</dt>
            <dd></dd>
            <dt>Page Ref</dt>
            <dd>page_product_detail</dd>
            <dt>Validates</dt>
            <dd></dd>
            <dt>Timing</dt>
            <dd></dd>
            <dt>Can Skip</dt>
            <dd></dd>
            <dt>Next Enabled When</dt>
            <dd></dd>
            <dt>On Complete</dt>
            <dd></dd>
            <dt>Update Aggregate</dt>
            <dd></dd>
            <dt>Publish Event</dt>
            <dd></dd>
            <dt>Navigate To</dt>
            <dd></dd>
            <dt>Step Number</dt>
            <dd></dd>
            <dt>Label</dt>
            <dd></dd>
            <dt>Page Ref</dt>
            <dd>page_product_detail</dd>
            <dt>Validates</dt>
            <dd></dd>
            <dt>Timing</dt>
            <dd></dd>
            <dt>Can Skip</dt>
            <dd></dd>
            <dt>Next Enabled When</dt>
            <dd></dd>
            <dt>State Persistence</dt>
            <dd></dd>
            <dt>Strategy</dt>
            <dd></dd>
            <dt>Interval</dt>
            <dd></dd>
            <dt>Progress Indicator</dt>
            <dd></dd>
            <dt>Type</dt>
            <dd>flexible</dd>
            <dt>Position</dt>
            <dd></dd>
          </dl>
          <div class="tabbed-tables" data-tab-root>
            <nav class="TabNav" role="tablist">
            <button role="tab" aria-selected="true" aria-controls="wf-add-to-cart-bounded-contexts-tab" data-tab-target="wf-add-to-cart-bounded-contexts-tab">Bounded Contexts</button>
            <button role="tab" aria-selected="false" aria-controls="wf-add-to-cart-aggregate-refs-tab" data-tab-target="wf-add-to-cart-aggregate-refs-tab">Aggregate Refs</button>
            <button role="tab" aria-selected="false" aria-controls="wf-add-to-cart-steps-tab" data-tab-target="wf-add-to-cart-steps-tab">Steps</button>
            <button role="tab" aria-selected="false" aria-controls="wf-add-to-cart-collects-tab" data-tab-target="wf-add-to-cart-collects-tab">Collects</button>
            <button role="tab" aria-selected="false" aria-controls="wf-add-to-cart-rules-tab" data-tab-target="wf-add-to-cart-rules-tab">Rules</button>
            <button role="tab" aria-selected="false" aria-controls="wf-add-to-cart-collects-tab-1" data-tab-target="wf-add-to-cart-collects-tab-1">Collects</button>
            <button role="tab" aria-selected="false" aria-controls="wf-add-to-cart-rules-tab-1" data-tab-target="wf-add-to-cart-rules-tab-1">Rules</button>
            <button role="tab" aria-selected="false" aria-controls="wf-add-to-cart-collects-tab-2" data-tab-target="wf-add-to-cart-collects-tab-2">Collects</button>
            <button role="tab" aria-selected="false" aria-controls="wf-add-to-cart-rules-tab-2" data-tab-target="wf-add-to-cart-rules-tab-2">Rules</button>
            </nav>
          <div role="tabpanel" id="wf-add-to-cart-bounded-contexts-tab" class="TabPanel" data-tab-label="Bounded Contexts">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Bounded Contexts</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>bc_product_catalog</td>
                  </tr>
                  <tr>
                    <td>bc_shopping_cart</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-add-to-cart-aggregate-refs-tab" class="TabPanel hidden" data-tab-label="Aggregate Refs">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Aggregate Refs</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>agg_product</td>
                  </tr>
                  <tr>
                    <td>agg_shopping_cart</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-add-to-cart-steps-tab" class="TabPanel hidden" data-tab-label="Steps">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Step</th>
                    <th>Step Id</th>
                    <th>Page Ref</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>View Product Details</td>
                    <td>Select Product</td>
                    <td>Page Product Detail</td>
                  </tr>
                  <tr>
                    <td>Configure Options</td>
                    <td>Configure Product</td>
                    <td>Page Product Detail</td>
                  </tr>
                  <tr>
                    <td>Add to Cart</td>
                    <td>Add To Cart</td>
                    <td>Page Product Detail</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-add-to-cart-collects-tab" class="TabPanel hidden" data-tab-label="Collects">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Collects</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-add-to-cart-rules-tab" class="TabPanel hidden" data-tab-label="Rules">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Rules</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-add-to-cart-collects-tab-1" class="TabPanel hidden" data-tab-label="Collects">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Collects</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-add-to-cart-rules-tab-1" class="TabPanel hidden" data-tab-label="Rules">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Rules</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-add-to-cart-collects-tab-2" class="TabPanel hidden" data-tab-label="Collects">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Collects</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-add-to-cart-rules-tab-2" class="TabPanel hidden" data-tab-label="Rules">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Rules</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          </div>
          <div class="inline-objects">
            <details class="my-3">
              <summary>On Complete: agg_shopping_cart evt_product_added_to_cart page_cart</summary>
              <dl class="type-attributes">
                <dt>Update Aggregate</dt>
                <dd>agg_shopping_cart</dd>
                <dt>Publish Event</dt>
                <dd>evt_product_added_to_cart</dd>
                <dt>Navigate To</dt>
                <dd>page_cart</dd>
              </dl>
            </details>
            <details class="my-3">
              <summary>Completion: EMPTY â†’ CONTAINS_ITEMS evt_cart_updated toast</summary>
              <dl class="type-attributes">
                <dt>Aggregate Transition</dt>
                <dd>EMPTY â†’ CONTAINS_ITEMS</dd>
                <dt>Publishes Event</dt>
                <dd>evt_cart_updated</dd>
                <dt>Navigate To</dt>
                <dd></dd>
                <dt>Feedback</dt>
                <dd>toast</dd>
              </dl>
            </details>
          </div>
        </section>
        <section id="wf_user_activation" class="type-view hidden" data-breadcrumb='[{"label": "Home", "href": "#"}, {"label": "Workflow: User Account Activation", "href": "#wf_user_activation"}]'>
          <header><h2>Workflow: User Account Activation</h2></header>
          <dl class="type-attributes">
            <dt>Workflow Id</dt>
            <dd></dd>
            <dt>Name</dt>
            <dd>User Account Activation</dd>
            <dt>Type</dt>
            <dd>flexible</dd>
            <dt>Application Service</dt>
            <dd>svc_app_user_management</dd>
            <dt>Step Number</dt>
            <dd>1</dd>
            <dt>Label</dt>
            <dd>View Pending User</dd>
            <dt>Page Ref</dt>
            <dd>page_user_management</dd>
            <dt>Can Skip</dt>
            <dd>false</dd>
            <dt>Next Enabled When</dt>
            <dd>user_exists_and_pending</dd>
            <dt>On Complete</dt>
            <dd></dd>
            <dt>Update Aggregate</dt>
            <dd></dd>
            <dt>Publish Event</dt>
            <dd></dd>
            <dt>Navigate To</dt>
            <dd></dd>
            <dt>Step Number</dt>
            <dd>2</dd>
            <dt>Label</dt>
            <dd>Confirm Activation</dd>
            <dt>Page Ref</dt>
            <dd>page_user_management</dd>
            <dt>Can Skip</dt>
            <dd>false</dd>
            <dt>Next Enabled When</dt>
            <dd>validation_passed</dd>
            <dt>State Persistence</dt>
            <dd></dd>
            <dt>Strategy</dt>
            <dd></dd>
            <dt>Interval</dt>
            <dd></dd>
          </dl>
          <div class="tabbed-tables" data-tab-root>
            <nav class="TabNav" role="tablist">
            <button role="tab" aria-selected="true" aria-controls="wf-user-activation-bounded-contexts-tab" data-tab-target="wf-user-activation-bounded-contexts-tab">Bounded Contexts</button>
            <button role="tab" aria-selected="false" aria-controls="wf-user-activation-aggregate-refs-tab" data-tab-target="wf-user-activation-aggregate-refs-tab">Aggregate Refs</button>
            <button role="tab" aria-selected="false" aria-controls="wf-user-activation-steps-tab" data-tab-target="wf-user-activation-steps-tab">Steps</button>
            <button role="tab" aria-selected="false" aria-controls="wf-user-activation-collects-tab" data-tab-target="wf-user-activation-collects-tab">Collects</button>
            <button role="tab" aria-selected="false" aria-controls="wf-user-activation-collects-tab-1" data-tab-target="wf-user-activation-collects-tab-1">Collects</button>
            </nav>
          <div role="tabpanel" id="wf-user-activation-bounded-contexts-tab" class="TabPanel" data-tab-label="Bounded Contexts">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Bounded Contexts</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>bc_user_management</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-user-activation-aggregate-refs-tab" class="TabPanel hidden" data-tab-label="Aggregate Refs">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Aggregate Refs</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>agg_user</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-user-activation-steps-tab" class="TabPanel hidden" data-tab-label="Steps">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Step</th>
                    <th>Step Number</th>
                    <th>Label</th>
                    <th>Page Ref</th>
                    <th>Can Skip</th>
                    <th>Next Enabled When</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1 View Pending User page_user_management</td>
                    <td>1</td>
                    <td>View Pending User</td>
                    <td>Page User Management</td>
                    <td>false</td>
                    <td>User Exists And Pending</td>
                  </tr>
                  <tr>
                    <td>2 Confirm Activation page_user_management</td>
                    <td>2</td>
                    <td>Confirm Activation</td>
                    <td>Page User Management</td>
                    <td>false</td>
                    <td>Validation Passed</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-user-activation-collects-tab" class="TabPanel hidden" data-tab-label="Collects">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Collects</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>vo_user_id</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-user-activation-collects-tab-1" class="TabPanel hidden" data-tab-label="Collects">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Collects</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          </div>
          <div class="inline-objects">
            <details class="my-3">
              <summary>Validates: on_blur</summary>
              <dl class="type-attributes">
                <dt>Timing</dt>
                <dd>on_blur</dd>
              </dl>
          <div class="tabbed-tables" data-tab-root>
            <nav class="TabNav" role="tablist">
            <button role="tab" aria-selected="true" aria-controls="wf-user-activation-validates-rules-tab" data-tab-target="wf-user-activation-validates-rules-tab">Rules</button>
            </nav>
          <div role="tabpanel" id="wf-user-activation-validates-rules-tab" class="TabPanel" data-tab-label="Rules">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Rules</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>User must exist</td>
                  </tr>
                  <tr>
                    <td>User must be in PENDING status</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          </div>
            </details>
            <details class="my-3">
              <summary>Validates: on_submit</summary>
              <dl class="type-attributes">
                <dt>Timing</dt>
                <dd>on_submit</dd>
              </dl>
          <div class="tabbed-tables" data-tab-root>
            <nav class="TabNav" role="tablist">
            <button role="tab" aria-selected="true" aria-controls="wf-user-activation-validates-1-rules-tab" data-tab-target="wf-user-activation-validates-1-rules-tab">Rules</button>
            </nav>
          <div role="tabpanel" id="wf-user-activation-validates-1-rules-tab" class="TabPanel" data-tab-label="Rules">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Rules</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>User not locked</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          </div>
            </details>
            <details class="my-3">
              <summary>On Complete: agg_user evt_user_activated page_user_management</summary>
              <dl class="type-attributes">
                <dt>Update Aggregate</dt>
                <dd>agg_user</dd>
                <dt>Publish Event</dt>
                <dd>evt_user_activated</dd>
                <dt>Navigate To</dt>
                <dd>page_user_management</dd>
              </dl>
            </details>
            <details class="my-3">
              <summary>Progress Indicator: steps top</summary>
              <dl class="type-attributes">
                <dt>Type</dt>
                <dd>steps</dd>
                <dt>Position</dt>
                <dd>top</dd>
              </dl>
            </details>
            <details class="my-3">
              <summary>Completion: PENDING â†’ ACTIVE evt_user_activated page_user_management</summary>
              <dl class="type-attributes">
                <dt>Aggregate Transition</dt>
                <dd>PENDING â†’ ACTIVE</dd>
                <dt>Publishes Event</dt>
                <dd>evt_user_activated</dd>
                <dt>Navigate To</dt>
                <dd>page_user_management</dd>
                <dt>Feedback</dt>
                <dd>toast</dd>
              </dl>
            </details>
          </div>
        </section>
        <section id="wf_checkout" class="type-view hidden" data-breadcrumb='[{"label": "Home", "href": "#"}, {"label": "Workflow: Checkout Process", "href": "#wf_checkout"}]'>
          <header><h2>Workflow: Checkout Process</h2></header>
          <dl class="type-attributes">
            <dt>Workflow Id</dt>
            <dd></dd>
            <dt>Name</dt>
            <dd>Checkout Process</dd>
            <dt>Type</dt>
            <dd>linear</dd>
            <dt>Application Service</dt>
            <dd></dd>
            <dt>Step Number</dt>
            <dd></dd>
            <dt>Label</dt>
            <dd></dd>
            <dt>Page Ref</dt>
            <dd>page_cart</dd>
            <dt>Validates</dt>
            <dd></dd>
            <dt>Timing</dt>
            <dd></dd>
            <dt>Can Skip</dt>
            <dd></dd>
            <dt>Next Enabled When</dt>
            <dd>cart_not_empty</dd>
            <dt>On Complete</dt>
            <dd></dd>
            <dt>Update Aggregate</dt>
            <dd></dd>
            <dt>Publish Event</dt>
            <dd></dd>
            <dt>Navigate To</dt>
            <dd></dd>
            <dt>Step Number</dt>
            <dd></dd>
            <dt>Label</dt>
            <dd></dd>
            <dt>Page Ref</dt>
            <dd>page_checkout_shipping</dd>
            <dt>Validates</dt>
            <dd></dd>
            <dt>Timing</dt>
            <dd></dd>
            <dt>Can Skip</dt>
            <dd></dd>
            <dt>Next Enabled When</dt>
            <dd>all_required_fields_valid</dd>
            <dt>On Complete</dt>
            <dd></dd>
            <dt>Update Aggregate</dt>
            <dd></dd>
            <dt>Publish Event</dt>
            <dd></dd>
            <dt>Navigate To</dt>
            <dd></dd>
            <dt>Step Number</dt>
            <dd></dd>
            <dt>Label</dt>
            <dd></dd>
            <dt>Page Ref</dt>
            <dd>page_checkout_payment</dd>
            <dt>Validates</dt>
            <dd></dd>
            <dt>Timing</dt>
            <dd></dd>
            <dt>Can Skip</dt>
            <dd></dd>
            <dt>Next Enabled When</dt>
            <dd>payment_valid</dd>
            <dt>State Persistence</dt>
            <dd></dd>
            <dt>Strategy</dt>
            <dd></dd>
            <dt>Interval</dt>
            <dd></dd>
          </dl>
          <div class="tabbed-tables" data-tab-root>
            <nav class="TabNav" role="tablist">
            <button role="tab" aria-selected="true" aria-controls="wf-checkout-bounded-contexts-tab" data-tab-target="wf-checkout-bounded-contexts-tab">Bounded Contexts</button>
            <button role="tab" aria-selected="false" aria-controls="wf-checkout-aggregate-refs-tab" data-tab-target="wf-checkout-aggregate-refs-tab">Aggregate Refs</button>
            <button role="tab" aria-selected="false" aria-controls="wf-checkout-steps-tab" data-tab-target="wf-checkout-steps-tab">Steps</button>
            <button role="tab" aria-selected="false" aria-controls="wf-checkout-collects-tab" data-tab-target="wf-checkout-collects-tab">Collects</button>
            <button role="tab" aria-selected="false" aria-controls="wf-checkout-rules-tab" data-tab-target="wf-checkout-rules-tab">Rules</button>
            <button role="tab" aria-selected="false" aria-controls="wf-checkout-collects-tab-1" data-tab-target="wf-checkout-collects-tab-1">Collects</button>
            <button role="tab" aria-selected="false" aria-controls="wf-checkout-rules-tab-1" data-tab-target="wf-checkout-rules-tab-1">Rules</button>
            <button role="tab" aria-selected="false" aria-controls="wf-checkout-collects-tab-2" data-tab-target="wf-checkout-collects-tab-2">Collects</button>
            <button role="tab" aria-selected="false" aria-controls="wf-checkout-rules-tab-2" data-tab-target="wf-checkout-rules-tab-2">Rules</button>
            </nav>
          <div role="tabpanel" id="wf-checkout-bounded-contexts-tab" class="TabPanel" data-tab-label="Bounded Contexts">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Bounded Contexts</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>bc_shopping_cart</td>
                  </tr>
                  <tr>
                    <td>bc_order_management</td>
                  </tr>
                  <tr>
                    <td>bc_payment</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-checkout-aggregate-refs-tab" class="TabPanel hidden" data-tab-label="Aggregate Refs">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Aggregate Refs</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>agg_shopping_cart</td>
                  </tr>
                  <tr>
                    <td>agg_order</td>
                  </tr>
                  <tr>
                    <td>agg_payment</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-checkout-steps-tab" class="TabPanel hidden" data-tab-label="Steps">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Step</th>
                    <th>Step Id</th>
                    <th>Page Ref</th>
                    <th>Next Enabled When</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Review Cart</td>
                    <td>Review Cart</td>
                    <td>Page Cart</td>
                    <td>Cart Not Empty</td>
                  </tr>
                  <tr>
                    <td>Shipping Information</td>
                    <td>Shipping Info</td>
                    <td>Page Checkout Shipping</td>
                    <td>All Required Fields Valid</td>
                  </tr>
                  <tr>
                    <td>Payment Information</td>
                    <td>Payment Info</td>
                    <td>Page Checkout Payment</td>
                    <td>Payment Valid</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-checkout-collects-tab" class="TabPanel hidden" data-tab-label="Collects">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Collects</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-checkout-rules-tab" class="TabPanel hidden" data-tab-label="Rules">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Rules</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-checkout-collects-tab-1" class="TabPanel hidden" data-tab-label="Collects">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Collects</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-checkout-rules-tab-1" class="TabPanel hidden" data-tab-label="Rules">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Rules</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-checkout-collects-tab-2" class="TabPanel hidden" data-tab-label="Collects">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Collects</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div role="tabpanel" id="wf-checkout-rules-tab-2" class="TabPanel hidden" data-tab-label="Rules">
            <div class="table-wrapper">
              <table class="Table">
                <thead>
                  <tr>
                    <th>Rules</th>
                  </tr>
                </thead>
                <tbody>
                  <tr><td><em>None</em></td></tr>
                </tbody>
              </table>
            </div>
          </div>
          </div>
          <div class="inline-objects">
            <details class="my-3">
              <summary>On Complete: agg_order evt_order_placed</summary>
              <dl class="type-attributes">
                <dt>Update Aggregate</dt>
                <dd>agg_order</dd>
                <dt>Publish Event</dt>
                <dd>evt_order_placed</dd>
                <dt>Navigate To</dt>
                <dd></dd>
              </dl>
            </details>
            <details class="my-3">
              <summary>Progress Indicator: steps top</summary>
              <dl class="type-attributes">
                <dt>Type</dt>
                <dd>steps</dd>
                <dt>Position</dt>
                <dd>top</dd>
              </dl>
            </details>
            <details class="my-3">
              <summary>Completion: PENDING â†’ CONFIRMED evt_order_confirmed page_order_confirmation</summary>
              <dl class="type-attributes">
                <dt>Aggregate Transition</dt>
                <dd>PENDING â†’ CONFIRMED</dd>
                <dt>Publishes Event</dt>
                <dd>evt_order_confirmed</dd>
                <dt>Navigate To</dt>
                <dd>page_order_confirmation</dd>
                <dt>Feedback</dt>
                <dd>modal</dd>
              </dl>
            </details>
          </div>
        </section>
      </main>
    </div>
    <script>

        (function() {
          const sections = Array.from(document.querySelectorAll('.type-view'));
          const navLinks = Array.from(document.querySelectorAll('#nav-list a'));
          const breadcrumb = document.querySelector('#breadcrumb .Breadcrumbs-list');

          const sectionMap = new Map();
          sections.forEach(section => {
            sectionMap.set(section.id, section);
          });

          function setActiveNav(targetId) {
            navLinks.forEach(link => {
              const isActive = link.dataset.target === targetId || (targetId === '' && !link.dataset.target);
              link.classList.toggle('ActionList-item--active', isActive);
            });
          }

          function showSection(targetId, tabId) {
            if (!targetId || !sectionMap.has(targetId)) {
              targetId = 'home';
            }

            sections.forEach(section => {
              if (!section.id) return;
              if (section.id === targetId) {
                section.classList.remove('hidden');
              } else {
                section.classList.add('hidden');
              }
            });

            const activeSection = sectionMap.get(targetId);
            if (activeSection) {
              if (breadcrumb) {
                const breadcrumbData = activeSection.dataset.breadcrumb ? JSON.parse(activeSection.dataset.breadcrumb) : [];
                breadcrumb.innerHTML = '';
                breadcrumbData.forEach(item => {
                  const li = document.createElement('li');
                  li.className = 'Breadcrumbs-item';
                  const a = document.createElement('a');
                  a.className = 'Breadcrumbs-link';
                  a.href = item.href || '#';
                  a.textContent = item.label;
                  li.appendChild(a);
                  breadcrumb.appendChild(li);
                });
              }

              if (tabId) {
                activateTab(tabId);
              } else {
                const defaultTab = activeSection.querySelector('[role="tab"][aria-selected="true"]');
                if (defaultTab) {
                  activateTab(defaultTab.dataset.tabTarget);
                }
              }
            }

            setActiveNav(targetId === 'home' ? '' : targetId);
          }

          function activateTab(tabId) {
            if (!tabId) return;
            const panel = document.getElementById(tabId);
            if (!panel) return;
            const root = panel.closest('[data-tab-root]');
            if (!root) return;
            const tabs = Array.from(root.querySelectorAll('[role="tab"]'));
            const panels = Array.from(root.querySelectorAll('[role="tabpanel"]'));
            tabs.forEach(tab => {
              const isActive = tab.dataset.tabTarget === tabId;
              tab.setAttribute('aria-selected', isActive ? 'true' : 'false');
            });
            panels.forEach(p => {
              if (p.id === tabId) {
                p.classList.remove('hidden');
              } else {
                p.classList.add('hidden');
              }
            });
          }

          navLinks.forEach(link => {
            link.addEventListener('click', event => {
              const target = link.dataset.target || '';
              event.preventDefault();
              if (target) {
                window.location.hash = target;
              } else {
                window.location.hash = '';
                showSection('home');
              }
            });
          });

          sections.forEach(section => {
            section.addEventListener('click', event => {
              const tabButton = event.target.closest('[role="tab"]');
              if (tabButton) {
                const tabId = tabButton.dataset.tabTarget;
                activateTab(tabId);
              }
            });
          });

          function handleHashChange() {
            let hash = window.location.hash.slice(1);
            let tabId = null;
            if (hash.includes('|')) {
              const parts = hash.split('|');
              hash = parts[0];
              tabId = parts[1];
            }
            if (!hash) {
              showSection('home');
            } else {
              showSection(hash, tabId);
            }
          }

          window.addEventListener('hashchange', handleHashChange);

          if (window.location.hash) {
            handleHashChange();
          } else {
            showSection("home");
          }
        })();
        
    </script>
  </body>
</html>